/* =============== Fonts =============== */
@font-face{font-family:'OpenSans';src:url('./fonts/OpenSans-Light-webfont.woff') format('woff'),url('./fonts/OpenSans-Light-webfont.ttf') format('truetype');font-weight:300;font-style:normal;font-display:swap}
@font-face{font-family:'OpenSans';src:url('./fonts/OpenSans-Regular-webfont.woff') format('woff'),url('./fonts/OpenSans-Regular-webfont.ttf') format('truetype');font-weight:400;font-style:normal;font-display:swap}
@font-face{font-family:'OpenSans';src:url('./fonts/OpenSans-Semibold-webfont.woff') format('woff'),url('./fonts/OpenSans-Semibold-webfont.ttf') format('truetype');font-weight:600;font-style:normal;font-display:swap}
@font-face{font-family:'OpenSans';src:url('./fonts/OpenSans-Bold-webfont.woff') format('woff'),url('./fonts/OpenSans-Bold-webfont.ttf') format('truetype');font-weight:700;font-style:normal;font-display:swap}

/* =============== Variables =============== */
:root{
  --gap:12px;
  --desk-card:280px;
  --container-max: calc(4 * var(--desk-card) + 3 * var(--gap));
  --hero-h: clamp(200px, 28vh, 260px); /* shared fixed height on desktop/tablet */
}

/* =============== Shell =============== */
*{margin:0;padding:0;box-sizing:border-box}
html,body{height:100%}
html{background:linear-gradient(#2a2a29,#1c1c1c) fixed no-repeat;background-size:cover}
body{font-family:"OpenSans",Helvetica,Arial,sans-serif;font-weight:400;font-size:18px;line-height:1.5;color:#f0e7d5}
footer{background:#353535;border-top:4px solid #434343;padding:10px 0}

/* =============== Layout helpers =============== */
.container{width:min(var(--container-max), 100% - 48px);margin:16px auto 0}
.wrapper{display:flex;flex-direction:column;align-items:center;padding-bottom:40px}
.wide-divider{width:55%;margin:15px auto;border-top:.5px solid #f0e7d5b3}
.wide-divider-bottom-space{margin-bottom:25px}
.bottom-sections-heading{font-size:28px;line-height:1;color:#f7ce46;text-align:center}
.miguels-portfolio-title{font-size:42px}

/* =============== HERO =============== */
.top-hero{background:#1c1c1c;border-bottom:1px solid #2b2b2b}
.hero-grid{
  display:grid;
  grid-template-columns: repeat(4, var(--desk-card));
  grid-auto-rows: var(--hero-h);        /* makes headshot & console equal height */
  gap: var(--gap);
  align-items: stretch;
}
.hero-img{
  grid-column: 1 / span 1;
  width: 100%;
  height: 100%;
  object-fit: contain;                   /* no zoom/crop */
  background:#111;                       /* letterbox fill if needed */
  border-radius: 10px;
  display:block;
}
.term-card{
  grid-column: 2 / -1;                   /* spans cols 2-4 on desktop */
  display:grid;
  grid-template-rows: 34px 1fr;          /* titlebar + body */
  height: 100%;
  border:1.5px solid #2f2f2f;
  border-radius: 10px;
  background:#0f1011;                    /* simple, solid */
  box-shadow: 0 8px 18px rgba(0,0,0,.35);
}
.term-titlebar{
  background:#202326;                    /* clearly different from body */
  border-bottom:1px solid #101214;
  border-radius:10px 10px 0 0;
  position:relative;
}
.term-titlebar .dot{
  position:absolute;top:9px;width:10px;height:10px;border-radius:50%;
  box-shadow:0 0 0 1px rgba(0,0,0,.25)
}
.term-titlebar .red{left:12px;background:#ef4444}
.term-titlebar .amber{left:28px;background:#f59e0b}
.term-titlebar .green{left:44px;background:#10b981}

.term-body{
  display:flex;flex-direction:column;justify-content:center;
  padding:14px 18px 16px;
}
.term-name{
  font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
  color:#f7ce46;
  font-weight:700;
  line-height:1.15;
  /* Big but safe â€” grows on desktop, wraps if needed on tablet */
  font-size: clamp(28px, 3.9vw, 56px);
  margin: 2px 0 6px;
}
.term-email{
  font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
  color:#d8dbe1;
  font-size: clamp(15px, 1.6vw, 20px);
  text-decoration: underline;
  text-underline-offset: 2px;
  width:max-content;
}

/* ======= Breakpoints for hero & grid ======= */
@media (max-width:1199px){
  :root{ --container-max: calc(2 * var(--desk-card) + var(--gap)); }
  .hero-grid{ grid-template-columns: repeat(2, var(--desk-card)); }
  .hero-img{ grid-column: 1 / span 1; }
  .term-card{ grid-column: 2 / span 1; }     /* sits to the right of headshot */
}
@media (max-width:900px){
  :root{ --container-max: var(--desk-card); }
  .hero-grid{
    grid-template-columns: var(--desk-card);
    grid-auto-rows: auto;                    /* stack naturally on phones */
    justify-content:center;
  }
  .hero-img{
    width: 100%;
    height: auto;                            /* match natural image height */
    object-fit: contain;
  }
  .term-card{
    grid-column: 1;
    width: 100%;
    height: auto;                            /* never overlaps content */
  }
}

/* =============== Cards & Grids =============== */
.cards{
  display:grid;
  gap:var(--gap);
  justify-content:center;
  grid-template-columns:repeat(2,var(--desk-card));
}
.cards .card{width:var(--desk-card)}
.card{
  background:#2e2e2e;border:1px solid #444;border-radius:8px;padding:14px;text-align:center;
  display:grid;grid-template-rows:auto auto auto;gap:8px;
  color:inherit;text-decoration:none;
  transition:transform .15s ease,box-shadow .15s ease,border-color .15s ease
}
.card:hover,.card:focus-visible{transform:translateY(-2px);border-color:#f7ce46;box-shadow:0 4px 16px rgba(247,206,70,.12);outline:none}

/* Titles */
.card-title,.bottom-card-title{text-align:center;margin-bottom:0}
.card-title{color:#f7ce46;margin-top:6px;font-size:26px}
.bottom-card-title{color:#f0e7d5}

/* Icon circles (keep GitHub black on white) */
.icon-circle{
  background:#fff;border-radius:50%;width:115px;height:115px;margin:2px auto 6px;
  display:flex;align-items:center;justify-content:center
}
.icon-circle img{display:block;filter:none;mix-blend-mode:normal}
.social-logo{width:64%;height:auto}
.github-logo{width:90%;height:auto;object-fit:contain}

/* ===== Apps grid ===== */
.cards.apps-grid .card{
  --shot-h:230px;
  grid-template-rows:auto var(--shot-h) auto auto;
}
.cards.apps-grid .app-card-title{font-size:24px;line-height:1.15}
.cards.apps-grid .screenshot-row{
  grid-row:2;height:var(--shot-h);line-height:0;overflow:hidden;
  display:flex;justify-content:center;align-items:center;gap:6px
}
.cards.apps-grid .screenshot-row img{
  height:var(--shot-h);width:calc(var(--shot-h) * 620 / 1266);
  aspect-ratio:620/1266;object-fit:contain;border-radius:4px
}
.project-blurb{font-size:.9em;color:#ccc;text-align:center;margin-top:8px;line-height:1.4}
.store-badge{grid-row:4;justify-self:center;width:135px;height:auto;margin-top:10px}

/* ===== Projects ===== */
.miguels-projects-spacing-top{margin-top:55px}
.miguels-projects-spacing-bottom{margin-bottom:25px}
.miguels-projects-title{font-size:24px}

.cards.projects-grid .card{grid-template-rows:auto minmax(220px,1fr) auto;overflow:hidden}
.cards.projects-grid .card *{min-height:0}
.cards.projects-grid .source-link{grid-row:3;margin-top:10px;display:flex;align-items:center;justify-content:center;gap:6px;text-align:center}
.octocat-icon{width:22.5px;height:22.5px}
.cards.projects-grid .card>img.project-gif:nth-of-type(n+2){display:none}
.cards.projects-grid .card>img.project-gif{grid-row:2;width:100%;height:100%;object-fit:fill;border-radius:6px}
.cards.projects-grid .card .gif-row{grid-row:2;display:grid;grid-template-columns:1fr 1fr;gap:8px;align-items:stretch;min-height:0;height:clamp(180px,52vw,260px)}
.cards.projects-grid .card .gif-row .project-gif{width:100%;height:100%;object-fit:cover;border-radius:6px}
.square-gif{aspect-ratio:1/1;object-fit:cover}

/* Links */
.source-link a,.source-link a:visited{color:#f0e7d5 !important;text-decoration:underline;font-weight:500}
.source-link a:hover{color:#f7ce46 !important}

/* Footer email */
.email{text-align:center;margin:24px 0}
.email a,.email a:visited{color:#fff;text-decoration:underline;font-weight:500;font-size:clamp(18px,1.6vw,26px);line-height:1.6}
.email a:hover{color:#f7ce46}

/* ===== Grid breakpoints (cards) ===== */
@media (min-width:1200px){
  .cards,.cards.apps-grid,.cards.projects-grid{grid-template-columns:repeat(4,var(--desk-card));max-width:min(var(--container-max),100% - 48px);margin-left:auto;margin-right:auto}
  .cards.connect-grid{grid-template-columns:repeat(3,var(--desk-card));max-width:min(var(--container-max),100% - 48px)}
}
@media (max-width:1199px){
  .cards,.cards.apps-grid,.cards.projects-grid{grid-template-columns:repeat(2,var(--desk-card));max-width:calc(2 * var(--desk-card) + var(--gap))}
  .cards.connect-grid{grid-template-columns:repeat(2,var(--desk-card))}
}
@media (max-width:900px){
  .cards,.cards.apps-grid,.cards.projects-grid,.cards.connect-grid{
    grid-template-columns:var(--desk-card);
    justify-content:center;
    max-width:calc(var(--desk-card) + 2 * var(--gap));
    margin-left:auto;margin-right:auto
  }
  .cards .card{width:var(--desk-card);justify-self:center}

  /* projects grid mobile */
  .cards.projects-grid .card{grid-template-rows:auto auto auto}
  .cards.projects-grid .card>img.project-gif{width:100%;height:auto;aspect-ratio:16/9;object-fit:cover;margin-bottom:8px}

  /* apps grid mobile */
  .cards.apps-grid .card{grid-template-rows:auto auto auto auto}
  .cards.apps-grid .screenshot-row{height:auto;gap:8px}
  .cards.apps-grid .screenshot-row img{height:auto;width:auto;max-width:110px}
}

/* Reduce motion */
@media (prefers-reduced-motion:reduce){
  .card{transition:none}
  .card:hover,.card:focus-visible{transform:none;box-shadow:none}
}


/* === adj7: remove side gutter on hero photo; hard-fix dividers/title centering === */

/* 1) HERO PHOTO: shrink container width to image content so no left/right "black" bands */
.hero .hero-photo, .hero-img{
  width: auto !important;              /* let item size to its content */
  height: 100% !important;
  border-radius: 18px !important;
  overflow: hidden !important;
  background: transparent !important;
  justify-self: start !important;      /* keep left edge aligned with grid */
}
.hero .hero-photo img, .hero-img img{
  height: 100% !important;             /* scale by height */
  width: auto !important;              /* natural aspect ratio, no letterbox */
  display: block !important;
  border-radius: 18px !important;
}

/* 2) HEADERS: ensure hero container remains transparent */
.top-hero{ background: transparent !important; border: none !important; box-shadow: none !important; padding: 0 !important; }

/* 3) DIVIDERS & TITLES: normalize base, then drive spacing via adjacency (high specificity) */
.container .wide-divider{
  display:block;
  height:0;
  border-top: .5px solid #f0e7d5b3;
  margin:0 auto !important;
  width:55%;
}

/* Remove padding that can throw centering */
.container .bottom-sections-heading,
.container .miguels-projects-title{ padding:0 !important; margin-left:auto !important; margin-right:auto !important; }

/* Portfolio: 12px between top divider->title, and title->bottom divider; 18px to cards */
.container :is(.wide-divider)+.bottom-sections-heading{ margin-top:12px !important; }
.container .bottom-sections-heading+:is(.wide-divider){ margin-top:12px !important; margin-bottom:18px !important; }

/* Projects: 10px / 10px then 14px to grid */
.container :is(.wide-divider)+.miguels-projects-title{ margin-top:10px !important; }
.container .miguels-projects-title+:is(.wide-divider){ margin-top:10px !important; margin-bottom:14px !important; }
